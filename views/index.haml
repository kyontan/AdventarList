%main
  - date_fmt = "%Y/%m/%-d"
  - if @date
    - if @date.day != 1
      - date_str = @date.prev_day.strftime(date_fmt)
      %a#link-prev{href: to(date_str)}= "#{date_str}の記事一覧"

  - if @calendar
    %h2<& #{@calendar.title} の記事
  - if @writer
    %h2<& #{@writer.name} の記事
  - if @date
    %h2<
      %time= @date.strftime('%Y/%m/%d')

  - if @date
    - if @date.day != 25
      - date_str = @date.next_day.strftime(date_fmt)
      %a#link-next{href: to(date_str)}= "#{date_str}の記事一覧"
    - if Date.today.day == 25
      🎄Merry Xmas!🎄

  - if @articles.empty?
    %div.no-article
      記事がありません
  - else
    %table#articles
      %thead
        %tr
          - unless @theme
            %th.theme Theme
          - unless @date
            %th.date Date
          %th.title Article
          - unless @writer
            %th.writer Writer
      - @articles.each do |article|
        %tr
          - unless @theme
            - calendar = article.calendar
            - url = to("/calendar/#{calendar.service}/#{calendar.in_service_id}")
            %td.theme<
              %a{href: url}<= calendar.title
          - unless @date
            %td.date<= article.date.strftime("%y/%m/%-d")
          %td.title
            %a{href: article.url}><
              - if article.title.empty?
                記事名なし
              - else
                = article.title
          - unless @writer
            - writer = article.writer
            %td.writer<
              - url = to("/writer/#{writer.service}/#{writer.in_service_id}")
              %a.writer{href: url}= writer.name
